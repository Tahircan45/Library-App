<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head th:replace="fragments :: html_head">


</head>
<body>
<div class="container my-2">
    <div th:replace="fragments :: login_status"></div>
    <div class="card">
        <div class="card-body">
            <div th:replace="fragments :: top_button_bar"></div>
            <div th:replace="fragments :: search_bar"></div>

            <div th:switch="${bookList}" class="container">
                <div class="row">
                    <div class="col-md-12">
                        <div th:case="*">
                            <table class="table table-striped table-responsive-md">
                                <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Sub Name</th>
                                    <th>Author</th>
                                    <th>Publisher</th>
                                    <th>ISBN</th>
                                    <th>Details</th>
                                    <th sec:authorize="hasAnyAuthority('ADMIN','MANAGER')">Edit</th>
                                    <th sec:authorize="hasAnyAuthority('MANAGER')">Delete</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr th:each="book:${bookList}">
                                    <td th:text="${book.name}">Name</td>
                                    <td th:text="${book.subName}">Sub Name</td>
                                    <td th:text="${book.author.name}">Author</td>
                                    <td th:text="${book.publisher.name}">Publisher</td>
                                    <td th:text="${book.isbn}" style="white-space: nowrap;">ISBN</td>
                                     <td>
                                         <a th:href="@{/book/details/{id}(id=${book.id})}" class="btn btn-info">
                                             <i class="fas fa-info-circle"></i>
                                         </a>
                                     </td>
                                     <td sec:authorize="hasAnyAuthority('ADMIN','MANAGER')">
                                         <a th:href="@{/book/edit/{id}(id=${book.id})}" class="btn btn-info">
                                             <i class="fas fa-edit"></i>
                                         </a>
                                     </td>
                                     <td sec:authorize="hasAnyAuthority('MANAGER')">
                                         <a th:href="@{/book/delete/{id}(id=${book.id})}" class="btn btn-danger">
                                             <i class="fas fa-trash-alt"></i>
                                         </a>
                                     </td>
                                 </tr>
                                 </tbody>
                             </table>
                         </div>

                     </div>
                 </div>

             </div>
         </div>
     </div>
 </div>
 <script type="text/javascript">
     function clearFilter(){
         window.location='/';
     }
 </script>
 </body>
 </html>